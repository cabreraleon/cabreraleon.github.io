---
layout: post
title: Steps 7 and 8 - Run, Debug, and Test the AdaptiveConnector.h
---

This week, I worked on the last two steps of my [Refactoring Plan](https://cabreraleon.github.io/ANCrefactorplan/). Running and debugging code is challenging. You fix one thing, another bug crawls in your code. This process has been difficult so far.

### Step 7. Run the Adaptive Connector code. If the code contains a bug, locate, dissect, and debug it. Repeat until the program returns the expected output file, which must be a connected graph G with additional edges.

---

### Step 8. Develop tests for the Adaptive Connector code to ensure that the output is expected, correct, *and* reliable. The tests must be unique, in varying environments with varying k-values, and signifanct.

The ANC algorithm has two main helpers.

1. #### UpdateNFChoice() { … }
    + Updates the NF Based on the probability score it received and returns a string
    + **Test Ideas:** test same robot in same space but change the locations of the obstacles to mimic if the robot changes its NF choice in heterogeneous environments

 2. #### RewardUpdateProbability(double _reward, unsigned long int _cost, int _prevConnectionAttempt) { … }
    + Updates global variable for cost, weight, and probability, VOID
    + **Test Ideas:** pick different points in the robot’s path to check the current cost, weight, and probability values at each point, to see if t changes.

I developed more testing ideas. Dr. Morales helped me come up with these testing concepts.

1. Test 2 configs that are obviously connectable, expect ANC to return true, test.
    + If 2 Cfgs are connectable, test the unknown intermediate configurations that lie between the connection edge generated by the ANC. 
        - This will help ensure there are no inaccurate, false connections where there shouldn’t be
        - If any intermediate segments between the 2 Cfgs fail, that means that those Cfgs aren’t actually connectable.
    + If I want to know the partially valid segments, I need to keep track of those intermediate segments.

<br>

2. Test 2 configs that are not connectable, expect ANC to return false, test

<br> 
Will be really hard to validate because it will always give us a different result based on where robot is in its environment. The variable values used for the formula to choose the best NF Connector are constantly being recalculated and updated
E.g. Similar to lucas’ work with Guassian distribution, which were difficult to test. To get result for  gaussian Cfgs, you test if the Cfgs belong to a Gaussian distribution or not. What’s hard to test is we don’t know where the obstacles are, plus there are random Cfgs so how do we know the distance between stuff?
So how do you think I should test the ANC, given that the NF being used changes as the score for the candidate NFs changes



---

### Future Works
Testing the ANC has many challenges. Although I did refactor some of the AdaptiveConnector.h code, the complex nature of this connector made it difficult to create successfull tests for this connector. 
